<!DOCTYPE html>

<html lang="en">
<head>
    <!-- Clarity -->
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "tin3df2qn0");
  </script>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Better Logs in Production</title>
<meta content="Best practices and patterns for structured, contextual, and centralized logging in production environments." name="description"/>
<link href="../assets/css/style.css" rel="stylesheet"/>
<link href="assets/images/Observabilitrends_logo.png" rel="icon" type="image/png"/></head>
<body>
<header>
  <a href="../index.html">
    <img src="../assets/images/Observabilitrends_logo.png" alt="Observabilitrends Logo" class="site-logo">
  </a>
</header>
<nav><a href="../index.html">Home</a></nav>
<main>
<a class="back-button" href="../index.html">← Back to Articles</a>
<img alt="Better Logs in Production cover image" class="cover-image" src="../assets/images/betterlogs-cover.png"/>
<h1>Better Logs in Production</h1>
<div class="post-meta">
<span class="author">By: Daniel Busquets</span> |
      <span class="date">Published: Sept 20, 2025</span> |
      <span class="readtime">8 min read</span>
</div>
<h2>Why Logging Matters</h2>
<p>
      Logging is a fundamental aspect of <strong>observability</strong>. In production environments, effective logging is critical to diagnose problems, monitor system health, and gain insight into application behavior. 
      However, without proper structure and practices, logs can become noisy, incomplete, or even useless. 
      When combined with <a href="https://opentelemetry.io/docs/" rel="noopener" target="_blank">OpenTelemetry</a>, structured logging is a powerful ally for root cause analysis.
    </p>
<h2>Common Pitfalls in Production Logging</h2>
<ul>
<li><strong>Too much noise:</strong> Excessive logs at debug level that overwhelm storage and make analysis difficult.</li>
<li><strong>Lack of structure:</strong> Free-text logs that cannot be parsed or indexed properly by log aggregation tools.</li>
<li><strong>Missing context:</strong> Logs that don’t include request IDs, user identifiers, or environment metadata.</li>
<li><strong>Inconsistent formats:</strong> Varying styles across teams or services make correlation difficult.</li>
</ul>
<img alt="Diagram of common pitfalls in logging" class="inline-diagram" src="../assets/images/log-pitfalls-diagram.png"/>
<h2>Principles of Better Logging</h2>
<ol>
<li><strong>Use structured logs:</strong> Log in JSON or a format easily consumed by logging systems like ELK, Loki, or Datadog.</li>
<li><strong>Include context:</strong> Always include trace IDs, span IDs, request URLs, user sessions, and environment tags.</li>
<li><strong>Log at the right level:</strong> Use <code>error</code>/<code>warning</code> for failures, <code>info</code> for business events, and <code>debug</code> only in dev environments.</li>
<li><strong>Avoid sensitive data:</strong> Never log passwords, secrets, or personal data (PII).</li>
<li><strong>Be consistent:</strong> Define log schemas and naming conventions across all services.</li>
</ol>
<h2>Code Examples</h2>
<h3>Node.js (Winston + OpenTelemetry)</h3>
<pre><code class="language-js">
const { createLogger, transports, format } = require('winston');
const logger = createLogger({
  level: 'info',
  format: format.json(),
  defaultMeta: { service: 'payments-service' },
  transports: [
    new transports.Console()
  ]
});

// Example enriched log
logger.info('Order created', {
  orderId: '12345',
  traceId: 'abc-xyz',
  userId: 'user42'
});
</code></pre>
<h3>Python (structlog)</h3>
<pre><code class="language-python">
import structlog

log = structlog.get_logger()

log.info("user_login", user_id="u123", trace_id="abc-xyz")
log.error("payment_failed", error="timeout", order_id="987")
</code></pre>
<p>
      For more examples, see the <a href="https://opentelemetry.io/docs/concepts/signals/logs/" rel="noopener" target="_blank">OpenTelemetry Logging Documentation</a>.
    </p>
<h2>Log Enrichment Techniques</h2>
<p>
      Enriching logs means appending contextual metadata automatically. You can use log middleware or wrappers to add:
    </p>
<ul>
<li>Trace and span IDs from your tracing system (e.g., OpenTelemetry).</li>
<li>Application version and deployment information.</li>
<li>Container or node identifiers in distributed environments.</li>
</ul>
<img alt="Diagram showing log enrichment flow with middleware" class="inline-diagram" src="../assets/images/log-enrichment-flow.png"/>
<h2>Centralized Logging and Querying</h2>
<p>
      Centralized log aggregation is key to managing production logs. Tools like 
      <a href="https://www.elastic.co/what-is/elk-stack" rel="noopener" target="_blank">Elasticsearch</a>, 
      <a href="https://grafana.com/oss/loki/" rel="noopener" target="_blank">Loki</a>, 
      <a href="https://www.datadoghq.com/product/log-management/" rel="noopener" target="_blank">Datadog Logs</a>, or 
      <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/WhatIsCloudWatchLogs.html" rel="noopener" target="_blank">CloudWatch Logs</a> help you:
    </p>
<ul>
<li>Search and filter logs in real time.</li>
<li>Create alerts based on log patterns or anomalies.</li>
<li>Correlate logs with metrics and traces for root cause analysis.</li>
</ul>
<h2>Hands-on Labs and Tools</h2>
<ul>
<li><a href="https://killercoda.com/openshift/scenario/logging" rel="noopener" target="_blank">KillerCoda Labs: Logging with OpenShift</a></li>
<li><a href="https://grafana.com/tutorials/grafana-loki-logging/" rel="noopener" target="_blank">Grafana Loki Tutorial</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/azure-monitor/logs/log-analytics-tutorial" rel="noopener" target="_blank">Azure Log Analytics Hands-on</a></li>
</ul>
<h2>Conclusion</h2>
<p>
      Production logs are your first line of defense when things go wrong. Investing in structured, enriched, and centralized logging practices dramatically improves your ability to detect, debug, and prevent incidents. 
      <br/><br/>
      Logs are not just artifacts—they are <strong>signals</strong>. Make them count.
    </p>

</main>
<footer><p>© <span id="year"></span> ObservabiliTrends</p></footer>
<script src="../assets/js/main.js"></script>
</body>
</html>
